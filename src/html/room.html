<!DOCTYPE html>
<html lang="en">

<head >
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
    <title>Virtual Room-P2PSP</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="../css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="../css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link rel="stylesheet" href="../css/nivo-slider.css">
    <link rel="stylesheet" href="../css/mi-slider.css">
</head>

<body style="background-color: #30302f;">

    <nav class="left-align" style="background-color: #252d35;" role="navigation">
        <h1 class="white-text logo-texto" style="padding-left: 10%;">Virtual Room</h1>
    </nav>

    <nav class="nav" style="background-color: #293958;" role="navigation">
        <div class="row">
            <div class="col s12 m7">
                <ul class="container">
                    <li><a href="index.html" title="Home" style="color:white;"><i class='small material-icons'>home</i></a></li>
                    <li onclick="stopWebCam()"><a><span id="stop-video" class="white-text text-darken-2"><i class='small material-icons'>videocam</i></span></a></li>
                    <li onclick="stopAudio()"><a><span id="stop-audio" class="white-text text-darken-2"><i class='small material-icons'>volume_up</i></span></a></li>
                                 
                    <li onclick="disconnectPeer()"><a href="../welcome/"><span class="white-text text-darken-2"><i class='small material-icons'>exit_to_app</i></span></a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="col s12" style="padding-right: 10%;">
        <div class="col s12 m3" style="padding-left: 10%;">
            <div class="file-field input-field" style="text-align: center;">
                <div class="btn z-depth-3 col s12 m2">
                    <span><i class='small material-icons'>file_upload</i></span>
                    <input type="file" id="video-file" accept="video/*">
                </div>
                <div class="file-path-wrapper col s12 m3"  >
                    <input class="file-path validate" style="color:white;" type="text" placeholder="Upload a video to stream" disabled="true">
                </div>
            </div>
            <div class="file-field input-field" style="text-align: center;">
                <div class="btn z-depth-3 col s12 m2" style="color:white;" onclick="enableInput()">
                    <span><i class='small material-icons'>file_upload</i></span>
                    <input  type="file" id="uploadedSubtitles" accept="video/*">
                </div>
                <div class="file-path-wrapper col s12 m3"  >
                    <input class="file-path validate" style="color:white;" type="text" placeholder="Subtitle file" disabled="true">
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    
    <div class="container">
        <div class="row">
            <div class="col s12 m3" style="color:white;" onclick="enableInput()">
                <input class="validate" type="text" id="peer-alias" placeholder="Type your alias" >
            </div>
            <div class="col s12 m1">
                <div class="btn disabled z-depth-3 red darken-4 col s12" onclick="setAlias()" id="alias-btn">
                    <span class="text-1">Set!</span>
                </div>
            </div>
        </div>     
    </div>

    <div class="container">
        <div class="col s12">
            <video class="responsive-video z-depth-5" width="1280" height="720" id="video-stream">
              <source id="video-source" type="video/mp4">
              <track id = "sub" kind="subtitles" label="optional" src="../res/empty.vtt" mode="showing" default></track>
            </video>
        </div>
        <div class="row">
            <div class="col s12 m1">
                <a class="btn z-depth-3 col s12" id="stream" onclick="streamVideo()"> <i class="material-icons">play_arrow</i></a>
                <!--<a id="stream" onclick="streamVideo()" class="btn disabled brown darken-2"><span class="black-text"><i class="small material-icons">play_arrow</i></span></a>-->
            </div>
            <div class="col s12 m1">
                <div class="btn z-depth-3 col s12" onclick="sendSubtitles()" id="button">
                    <i class="material-icons">subtitles</i>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row m20">
            <div class="col s6">
                <a onclick="copyBroadcastURL()">
                    <i class="small material-icons white-text" style="float:left;">content_copy</i>
                    <p id="broadcast-url" class="white-text dinline">Copy room to clipboard</p>
                </a>
            </div>
            <div class="col s6">
                <span id="peer-num" class="badge primary dark" data-badge-caption="peer(s)" style="float:right; color:white;">1</span>
            </div>
        </div>
    </div>
</body>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-item">
            <div class="row">
                <div class="col s12 m4">
                    <h5 class="footertext">Shortcuts:</h5>
                    <a href="http://p2psp.org/64-desarrollado-con-el-apoyo-de">
                        <h6>GSoC 2017 Ideas Page</h6>
                    </a>
                    <a href="http://p2psp.org/en/news/59-gsoc-application-template">
                        <h6>GSoC Application Template</h6>
                    </a>
                    <a href="http://slides.p2psp.org">
                        <h6>Slides</h6>
                    </a>
                    <a href="https://gitter.im/P2PSP/home">
                        <h6>P2PSP on Gitter</h6>
                    </a>
                </div>
                <div class="col s12 m4">
                    <h5 class="footertext">Source code:</h5> <br> <a href="https://github.com/P2PSP/Virtual-Room" target="_blank" class="btn btn-outline-success my-2 my-sm-0"><i class="fab fa-github"></i> Github</a>
                </div>
                <div class="col s12 m4">
                    <h5 class="footertext">Sopported by:</h5>
                    <a href="https://www.ual.es/"><img class="brand" src="http://cms.ual.es/idc/groups/public/@orgob/@gabcomunicacion/documents/imagen/civcentradopng.png" width="250"></a>
                    </a>
                </div>
            </div>
        </div>
        
    </footer>


    <!--  Scripts-->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.loadingoverlay/latest/loadingoverlay.min.js"></script>
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.4/js/all.js"></script>
    <script src="../js/materialize.min.js"></script>
    <script src="../js/init.js"></script>
    <script src="../js/room.js"></script>
    <script src="../js/mp4box.all.js"></script>

</html>